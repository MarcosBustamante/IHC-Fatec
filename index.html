<!DOCTYPE HTML>
<html ng-app ng-controller="index_ctr">

	<head>
		<title>FastFind - Your desires on a screen</title>
		<meta name="keywords" content="produtos products produto product venda vendas sell loja shopping pesquisa" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta charset="utf-8">
		<!-- CSS -->
		<link rel="stylesheet" type="text/css" href="table_product_view.css">
		<link rel="stylesheet" type="text/css" href="style.css">
		<link rel="stylesheet" type="text/css" href="animation.css">
		<!-- js -->
		<script src="http://code.angularjs.org/1.1.5/angular.js"></script>
		<script src="scriptIndex.js"></script>
		</head>

<body>
		<!-- Navbar -->
		<div id="navbar" align="center">
			<div class="fsp"> </div>
			<div id="btn_menu" ng-click="active_menu[0] = !active_menu[0]"></div>
			<input type="text" id="txt" placeholder="Pesquisar"> </input>
			<button id="btn_find"> </button>
			<button  id="btn_set" ng-click="active_menu[1] = !active_menu[1]"></button>
		</div>

	
		<!-- Tabela de produtos -->
		<div id="products_view" align="left" ng-switch on="product_view_selected">
			
			<!--Product in block-->
			<ul ng-switch-when="block" ng-animate="{enter: 'animate-enter-opacity', leave: 'animate-leave-opacity'}">
                <li class="list_product_block" ng-repeat="item in produtos" align="left">
					<div id="show_product_block" align="center">
						<label id="title_produto">{{item.name}}</label>
                    	<img ng-src="{{item.img[0]}}" id="image_block">
                    	<label id="information_produto_block">{{item.distance + " | " + item.price}}</label>
                	</div>
                </li>
            </ul>
			
			<!--Product in list-->
            <div ng-switch-when="list" align="center" style="width:100%;">
            	<div class="align_list">
	                <div class="view_product_list">
						<label id="title_product_list">{{list_product_selected.name}}</label><hr>

	                	<li style="list-style: none;" align="center">
	                		<div ng-repeat="circle in list_product_selected['img']"  class="slid_circles" 
	                			 ng-class="{'selected': circle != product_selected}"
	                			 ng-mouseover="change_image_slide(circle)">
	                		</div>
	                	</li>

						<div id="view_slid_list" align="center">
	                		<img ng-src="{{product_selected}}" id="image_slid_list">
	                	</div>

	                	<div align="center">
	                    	<button>Mapa</button>
	                    	<button ng-click="show_more_information = !show_more_information">+</button>
	                    	<button ng-click="open_comment()" ng-if="show_comment">List</button>
	                    	<button ng-click="open_comment()" ng-if="!show_comment">Comment</button>
	                	</div>
	                </div>

	                <div class="view_product_list" ng-if="show_more_information" 
	                	ng-animate="{enter: 'animate-enter-opacity', leave: 'animate-leave-opacity'}">

	                	<table width="100%">
	                		<tr align="center">
	                			<td>
	                				<label id="information_product_list"><b>{{list_product_selected.price}}</b></label>
	                			</td>
	                			<td>
	                				<label id="information_product_list"><b>{{list_product_selected.shop}}</b></label>
	                			</td>
	                		</tr>
	                		<tr align="center">
	                			<td>
	                				<label id="information_product_list"><b>{{"[img]"+ list_product_selected.distance}}</b></label>
	                			</td>
	                			<td>
	                				<label id="information_product_list"><b>{{list_product_selected.street}}</b></label>
	                			</td>
	                		</tr>
	                	</table>
	                </div>
	            </div>

	            <!-- Div with all products -->
                <div class="view_product_list align_list" ng-if="!show_comment">
                	<div class = "config_list_with_product" ng-repeat="item in produtos" 
                		ng-click="selected_new_product(item)" ng-mouseover="houver_new_product(item)"
                		ng-class="{'selected': list_product_selected == item}" >

                		<table width="80%">
	                		<tr align="center">
	                			<td width="20%">
	                				<img ng-src="{{item.img[0]}}" id="image_list">
	                			</td>
	                			<td width="50%">
		                    		<p>{{item.name}}</p>
		                    		<p>{{item.shop + " | " + item.street}}</p>
	                			</td>
	                			<td width="20%">
	                				<label id="text_distance_price_product"><b>{{item.price}}</b></label>
		                    		<p>{{item.distance}}</p>
	                			</td>
	                		</tr>
	                	</table>
                	</div>
                </div>

                <!-- Div with comments -->
                <div  class="write_comment align_list">
	                <table>
	            		<tr>
	            			<td align="center" width="90px">
	            				<img ng-src="{{user.img}}" class="img_comment">
	            				<label id="information_product_list">{{user.first_name}}</label>
	            				<label id="information_product_list">{{user.last_name}}</label>
	            			</td>
	            			<td align="center">
	            				<li>
		            				<textarea cols="55" rows="5" name="{resize: none;}" ng-model="comment" 
		            				ng-click="show_buttons = true"></textarea>
	            				</li>
	            				<li align="right" ng-show="show_buttons">
		            				<button ng-click="comment = ''; show_buttons=false" style="background-color:red;">
		            					Apagar
		            				</button>
		            				<button ng-click="save_comment(comment); comment=''; show_buttons=false" 
		            				style="background-color:blue;">
		            					Enviar
		            				</button>
	            				</li>
	            			</td>
	            		</tr>
            		</table>
            	</div>
                <div class="write_comment color_comments align_list" ng-if="show_comment">
                	<table ng-repeat="product in product_comment">
	            		<tr>
	            			<td align="center" width="90px">
	            				<img ng-src="{{product.img}}" class="img_comment">
	            				<label id="information_product_list">{{product.first_name}}</label>
	            				<label id="information_product_list">{{product.last_name}}</label>
	            			</td>
	            			<td style="with:5px;background-color:#2E8B57;"></td><td></td>
	            			<td valign="center" width="80%0%">
	            				<label>
	            					{{product.comment}}
	            				</label>
	            			</td>
	            		</tr>
            		</table>
                </div>
            </div>
		</div>

		<!-- Menu de opções (esquerda) -->
		<div class="menu menu_options" ng-if="active_menu[0]" ng-animate="{enter: 'animate-enter-options', leave: 'animate-leave-options'}">
			<div class="block" align=center> 
				Menu 
			</div>
			<center> <div id="profile"> <img ng-src="{{user.img}}" align=center> </img> </div> </center>
				<ul>
					<li><a href="link1.htm">[ICO] &nbsp; Home</a></li>
					<hr>
					<li><a href="link2.htm">[ICO] &nbsp; Lista de Desejos</a></li>
					<hr>
					<li><a href="link3.htm">[ICO] &nbsp; Produtos adquiridos</a></li>
					<hr>
					<li><a href="link4.htm"> [ICO]<!--<img src="img/sobre.png"> -->&nbsp; Quem somos nós </img></a></li>
					<hr>
					<li><a href="link5.htm">[ICO] &nbsp; E mais esse outro</a></li>
				</ul>
		</div>

		<!-- Menu de configurações (direita) -->
		<div class="menu menu_settings" ng-if="active_menu[1]" ng-animate="{enter: 'animate-enter-settings', leave: 'animate-leave-settings'}">
				<div class="block" align=center> Filters </div>
				<center>
				Filtro 1
				<div id="envolve">
					<div class="quadro_esq"> Imagem Driving </div>
					<div class="quadro_dir"> Imagem Walking </div>
				</div>
				<div class="fspace"> </div>
				<div class="fspace"> </div>
				<hr>
				Filtro 2
				<div id="envolve">
					<div class="quadro_esq" ng-click="change_type_view('list')"> <img src="img/lista.png" alt="Modo de exibição de produtos: lista"> </img> </div>
					<div class="quadro_dir"  ng-click="change_type_view('block')"> <img src="img/bloco.png" alt="Modo de exibição de prodtuos: blocos"> </img> </div>
				</div>
				
				<div class="fspace"> </div>
				<div class="fspace"> </div>
				<hr>
				Filtro 3
				<div id="envolve">
					<div class="quadro_esq"> Imagem Walking </div>
					<div class="quadro_dir"> Imagem Driving </div>
				</div>
				</center>
		</div>

	</body>
</html>

<!-- http://www.nganimate.org/angularjs/ng-repeat/3d-rotate para faze as pesquisas -->